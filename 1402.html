<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ú©Ø§Ø±Ø¢Ù…ÙˆØ²ÛŒ Û´ Ø±Ø§Ø¯ÛŒÙˆÙ„ÙˆÚ˜ÛŒ (Û±Û´Û°Û²)</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <style>
        :root {
            --bg-color: #eef2ff;
            --pattern-color: #6366f1;
            --card-bg: rgba(255, 255, 255, 0.95);
            --primary: #4338ca;
            --text-dark: #1e293b;
            --text-light: #64748b;
            --border: #e0e7ff;
            --holiday-bg: #fee2e2;
            --holiday-text: #991b1b;
            --shadow: 0 4px 6px -1px rgba(67, 56, 202, 0.1), 0 2px 4px -1px rgba(67, 56, 202, 0.06);
        }

        body {
            font-family: Tahoma, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            color: var(--text-dark);
            line-height: 1.6;
            background-color: var(--bg-color);
            background-image: radial-gradient(var(--pattern-color) 0.5px, transparent 0.5px), radial-gradient(var(--pattern-color) 0.5px, var(--bg-color) 0.5px);
            background-size: 20px 20px;
            transition: all 0.3s ease;
        }

        body.dark-mode {
            --bg-color: #0f172a;
            --pattern-color: #4f46e5;
            --card-bg: rgba(30, 41, 59, 0.95);
            --primary: #818cf8;
            --text-dark: #f1f5f9;
            --text-light: #94a3b8;
            --border: #334155;
            --holiday-bg: #450a0a;
            --holiday-text: #fca5a5;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            background: var(--card-bg);
            padding: 10px 15px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            backdrop-filter: blur(5px);
        }

        .btn {
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: 0.2s;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .btn-home { background: #64748b; color: white; }
        .btn-dark { background: #1e293b; color: white; }
        .btn-pdf { background: #ef4444; color: white; }
        .btn:hover { opacity: 0.9; transform: translateY(-2px); }

        .header {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            border: 1px solid var(--border);
            text-align: center;
        }

        h1 { margin: 0; font-size: 1.4rem; color: var(--primary); }
        .subtitle { font-size: 0.9rem; color: var(--text-light); margin-top: 5px; }

        .controls {
            margin-top: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        select {
            padding: 8px 15px;
            border-radius: 8px;
            border: 1px solid var(--border);
            font-family: inherit;
            background: var(--bg-color);
            color: var(--text-dark);
            outline: none;
            font-weight: bold;
        }

        .card {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            margin-bottom: 20px;
            overflow: hidden;
        }

        .card-header {
            background: rgba(67, 56, 202, 0.05);
            padding: 10px 15px;
            border-bottom: 1px solid var(--border);
            font-weight: bold;
            color: var(--primary);
            font-size: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-wrapper {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.8rem;
            white-space: nowrap;
        }

        th, td {
            padding: 10px 8px;
            text-align: center;
            border-bottom: 1px solid var(--border);
            border-left: 1px solid var(--border);
        }
        
        td:last-child, th:last-child { border-left: none; }

        th { 
            background-color: rgba(67, 56, 202, 0.05); 
            color: var(--text-dark); 
            font-weight: bold;
        }
        
        td:first-child, th:first-child {
            position: sticky;
            right: 0;
            background-color: var(--card-bg);
            border-left: 2px solid var(--border);
            z-index: 10;
            font-weight: bold;
            min-width: 80px;
            color: var(--text-dark);
        }

        .station-cell {
            padding: 6px 8px;
            border-radius: 6px;
            font-weight: bold;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            box-sizing: border-box;
            font-size: 0.8rem;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        
        .instructor-name {
            font-size: 0.7rem;
            font-weight: normal;
            opacity: 0.85;
            margin-top: 2px;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ØªØ¹Ø·ÛŒÙ„Ø§Øª */
        .holiday-row td {
            background-color: var(--holiday-bg);
            color: var(--holiday-text);
        }
        .holiday-row td:first-child { background-color: var(--holiday-bg); }


        .bg-afzali { background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
        .bg-bahonar { background: #dbeafe; color: #1e40af; border: 1px solid #bfdbfe; }
        .bg-shafa { background: #dcfce7; color: #166534; border: 1px solid #bbf7d0; }
        .bg-off { background: rgba(0,0,0,0.05); color: var(--text-light); border: 1px dashed var(--border); }

        /* --- Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ÙÙˆØªØ± Ùˆ Ø§Ø³Ø§Ù…ÛŒ Ø«Ø§Ø¨Øª --- */
        .footer {
            margin-top: 40px;
            padding: 20px;
            text-align: center;
            background-color: rgba(0,0,0,0.03);
            border-top: 1px solid var(--border);
            border-radius: 12px;
            font-size: 0.85rem;
            color: var(--text-light);
        }
        
        .developer {
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
            direction: ltr;
        }

        .disclaimer {
            font-size: 0.75rem;
            color: #991b1b;
            background: #fef2f2;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #fecaca;
            margin: 10px 0;
        }

        .version {
            font-size: 0.7rem;
            opacity: 0.7;
            font-family: sans-serif;
            direction: ltr;
        }

        .static-name {
            padding: 6px;
            background: rgba(0,0,0,0.02);
            border-radius: 6px;
            width: 100%;
            display: block;
            color: var(--text-dark);
            font-weight: 500;
        }
    </style>
</head>
<body>

<div class="container" id="main-content">
    
    <div class="toolbar" data-html2canvas-ignore="true">
        <a href="index.html" class="btn btn-home">
            <i class="fas fa-home"></i> Ø®Ø§Ù†Ù‡
        </a>
        <div style="display: flex; gap: 10px;">
            <button onclick="toggleDarkMode()" class="btn btn-dark">
                <i class="fas fa-moon"></i> Ø´Ø¨/Ø±ÙˆØ²
            </button>
            <button onclick="downloadPDF()" class="btn btn-pdf">
                <i class="fas fa-file-pdf"></i> Ø¯Ø§Ù†Ù„ÙˆØ¯ PDF
            </button>
        </div>
    </div>

    <div class="header">
        <h1>ğŸ“… Ø¨Ø±Ù†Ø§Ù…Ù‡ Ú©Ø§Ø±Ø¢Ù…ÙˆØ²ÛŒ Û´ Ø±Ø§Ø¯ÛŒÙˆÙ„ÙˆÚ˜ÛŒ (Û±Û´Û°Û²)</h1>
        <div class="subtitle">Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡â€ŒÙ‡Ø§ | Ø§Ø³ÙÙ†Ø¯ Û±Û´Û°Û´ ØªØ§ Ø®Ø±Ø¯Ø§Ø¯ Û±Û´Û°Ûµ</div>
        
        <div class="controls" data-html2canvas-ignore="true">
            <span>ÙÛŒÙ„ØªØ± Ú¯Ø±ÙˆÙ‡:</span>
            <select id="groupSelect" onchange="renderSchedule()">
                <option value="all">Ù†Ù…Ø§ÛŒØ´ Ù‡Ù…Ù‡ Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§</option>
                <option value="1">Ú¯Ø±ÙˆÙ‡ Û±</option>
                <option value="2">Ú¯Ø±ÙˆÙ‡ Û²</option>
                <option value="3">Ú¯Ø±ÙˆÙ‡ Û³</option>
                <option value="4">Ú¯Ø±ÙˆÙ‡ Û´</option>
                <option value="5">Ú¯Ø±ÙˆÙ‡ Ûµ</option>
                <option value="6">Ú¯Ø±ÙˆÙ‡ Û¶</option>
            </select>
        </div>
    </div>

    <div id="scheduleContainer">
        </div>

    <div class="card">
        <div class="card-header">
            <span>ğŸ‘¨â€ğŸ« Ø§Ø³Ø§ØªÛŒØ¯ Ùˆ Ù…Ø±Ø¨ÛŒØ§Ù†</span>
        </div>
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        <th>Ø¨ÛŒÙ…Ø§Ø±Ø³ØªØ§Ù†</th>
                        <th>Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡ ØµØ¨Ø­</th>
                        <th>Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡ Ø¹ØµØ±</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="bg-afzali">Ø§ÙØ¶Ù„ÛŒ Ù¾ÙˆØ±</td>
                        <td>Ø®Ø§Ù†Ù… Ù…Ø¹ØµÙˆÙ…Ù‡ Ø¨Ø±Ø§Ø²ÙˆØ§Ù†</td>
                        <td>Ø¢Ù‚Ø§ÛŒ Ù…Ø­Ø³Ù† Ø­Ø§ØªÙ…ÛŒ</td>
                    </tr>
                    <tr>
                        <td class="bg-bahonar">Ø¨Ø§Ù‡Ù†Ø±</td>
                        <td>Ø¯Ú©ØªØ± Ø­Ø¯ÛŒØ«Ù‡ Ø¹Ù„ÛŒÙ…Ø±Ø§Ø¯ÛŒ</td>
                        <td>Ø¯Ú©ØªØ± Ù…Ø­Ù…Ø¯ Ø¹Ø³Ú©Ø±Ø²Ø§Ø¯Ù‡</td>
                    </tr>
                    <tr>
                        <td class="bg-shafa">Ø´ÙØ§</td>
                        <td>Ø¢Ù‚Ø§ÛŒ Ø²Ù†Ú¯ÛŒ Ø¢Ø¨Ø§Ø¯ÛŒ</td>
                        <td>Ø¢Ù‚Ø§ÛŒ Ø²Ù†Ú¯ÛŒ Ø¢Ø¨Ø§Ø¯ÛŒ</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <span>ğŸ‘¥ Ø§Ø³Ø§Ù…ÛŒ Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù† (Ø¬Ù‡Øª Ø§Ø·Ù„Ø§Ø¹)</span>
        </div>
        <div class="table-wrapper" id="namesTableContainer">
            </div>
    </div>

    <div class="footer">
        <div class="developer">
            Designed & Developed by Amirhossein Khalil Yazdi
        </div>
        
        <div class="disclaimer">
            âš ï¸ <strong>ØªÙˆØ¬Ù‡:</strong> Ø§ÛŒÙ† Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¬Ù‡Øª ØªØ³Ù‡ÛŒÙ„ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ú©Ø§Ø±Ø¢Ù…ÙˆØ²ÛŒ Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù† ØªÙ‡ÛŒÙ‡ Ø´Ø¯Ù‡ Ùˆ Ù†Ø³Ø®Ù‡ Ø±Ø³Ù…ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ù…Ø­Ø³ÙˆØ¨ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯.
            <br>
            Ù…Ø³Ø¦ÙˆÙ„ÛŒØª Ù†Ù‡Ø§ÛŒÛŒ ØªØ·Ø§Ø¨Ù‚ Ø¨Ø§ Ø¨Ø±Ù†Ø§Ù…Ù‡ØŒ Ø¨Ø± Ø¹Ù‡Ø¯Ù‡ Ø¢Ù…ÙˆØ²Ø´ Ø¯Ø§Ù†Ø´Ú©Ø¯Ù‡ Ø§Ø³Øª.
        </div>

        <div class="version">
            Version 1.0 â€“ Last Update: Feb 15, 2026
        </div>
    </div>
</div>

<script>
    function toggleDarkMode() {
        document.body.classList.toggle("dark-mode");
        const isDark = document.body.classList.contains("dark-mode");
        localStorage.setItem("theme", isDark ? "dark" : "light");
    }

    if(localStorage.getItem("theme") === "dark") {
        document.body.classList.add("dark-mode");
    }

    function downloadPDF() {
        const element = document.getElementById('main-content');
        const opt = {
            margin: 0.2,
            filename: 'Radiology_Internship4_1402.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'in', format: 'a4', orientation: 'landscape' }
        };
        html2pdf().set(opt).from(element).save();
    }
    
    const stations = {
        'afzali_m': { name: 'Ø§ÙØ¶Ù„ÛŒ ØµØ¨Ø­', css: 'bg-afzali', instructor: 'Ø®Ø§Ù†Ù… Ø¨Ø±Ø§Ø²ÙˆØ§Ù†' },
        'afzali_e': { name: 'Ø§ÙØ¶Ù„ÛŒ Ø¹ØµØ±', css: 'bg-afzali', instructor: 'Ø¢Ù‚Ø§ÛŒ Ø­Ø§ØªÙ…ÛŒ' },
        'bahonar_m': { name: 'Ø¨Ø§Ù‡Ù†Ø± ØµØ¨Ø­', css: 'bg-bahonar', instructor: 'Ø¯Ú©ØªØ± Ø¹Ù„ÛŒÙ…Ø±Ø§Ø¯ÛŒ' },
        'bahonar_e': { name: 'Ø¨Ø§Ù‡Ù†Ø± Ø¹ØµØ±', css: 'bg-bahonar', instructor: 'Ø¯Ú©ØªØ± Ø¹Ø³Ú©Ø±Ø²Ø§Ø¯Ù‡' },
        'shafa_m': { name: 'Ø´ÙØ§ ØµØ¨Ø­', css: 'bg-shafa', instructor: 'Ø¢Ù‚Ø§ÛŒ Ø²Ù†Ú¯ÛŒ Ø¢Ø¨Ø§Ø¯ÛŒ' },
        'shafa_e': { name: 'Ø´ÙØ§ Ø¹ØµØ±', css: 'bg-shafa', instructor: 'Ø¢Ù‚Ø§ÛŒ Ø²Ù†Ú¯ÛŒ Ø¢Ø¨Ø§Ø¯ÛŒ' },
    };

    const rotationLogic = [
        { label: "Ø±ÙˆØªÛŒØ´Ù† Û±", map: { 1: 'afzali_m', 6: 'afzali_e', 5: 'bahonar_m', 4: 'bahonar_e', 3: 'shafa_m', 2: 'shafa_e' } },
        { label: "Ø±ÙˆØªÛŒØ´Ù† Û²", map: { 2: 'afzali_m', 1: 'afzali_e', 6: 'bahonar_m', 5: 'bahonar_e', 4: 'shafa_m', 3: 'shafa_e' } },
        { label: "Ø±ÙˆØªÛŒØ´Ù† Û³", map: { 3: 'afzali_m', 2: 'afzali_e', 1: 'bahonar_m', 6: 'bahonar_e', 5: 'shafa_m', 4: 'shafa_e' } },
        { label: "Ø±ÙˆØªÛŒØ´Ù† Û´", map: { 4: 'afzali_m', 3: 'afzali_e', 2: 'bahonar_m', 1: 'bahonar_e', 6: 'shafa_m', 5: 'shafa_e' } },
        { label: "Ø±ÙˆØªÛŒØ´Ù† Ûµ", map: { 5: 'afzali_m', 4: 'afzali_e', 3: 'bahonar_m', 2: 'bahonar_e', 1: 'shafa_m', 6: 'shafa_e' } },
        { label: "Ø±ÙˆØªÛŒØ´Ù† Û¶", map: { 6: 'afzali_m', 5: 'afzali_e', 4: 'bahonar_m', 3: 'bahonar_e', 2: 'shafa_m', 1: 'shafa_e' } }
    ];

    const scheduleDates = [
        { range: "Û¶ ØªØ§ Û±Û³ Ø§Ø³ÙÙ†Ø¯ Û±Û´Û°Û´", rotIndex: 0, days: [{ d: "Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡ Û¶ Ø§Ø³ÙÙ†Ø¯" }, { d: "Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡ Û±Û³ Ø§Ø³ÙÙ†Ø¯" }] },
        { range: "Û±Û¹ ØªØ§ Û²Û¶ ÙØ±ÙˆØ±Ø¯ÛŒÙ† Û±Û´Û°Ûµ", rotIndex: 1, days: [{ d: "Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡ Û±Û¹ ÙØ±ÙˆØ±Ø¯ÛŒÙ†" }, { d: "Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡ Û²Û¶ ÙØ±ÙˆØ±Ø¯ÛŒÙ†" }] },
        { range: "Û² ØªØ§ Û¹ Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª Û±Û´Û°Ûµ", rotIndex: 2, days: [{ d: "Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡ Û² Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª" }, { d: "Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡ Û¹ Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª" }] },
        { range: "Û±Û¶ ØªØ§ Û²Û³ Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª Û±Û´Û°Ûµ", rotIndex: 3, days: [{ d: "Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡ Û±Û¶ Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª" }, { d: "Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡ Û²Û³ Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª" }] },
        { range: "Û³Û° Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª ØªØ§ Û±Û³ Ø®Ø±Ø¯Ø§Ø¯ Û±Û´Û°Ûµ", rotIndex: 4, days: [{ d: "Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡ Û³Û° Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª" }, { d: "Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡ Û¶ Ø®Ø±Ø¯Ø§Ø¯" }, { d: "Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡ Û±Û³ Ø®Ø±Ø¯Ø§Ø¯", holiday: true }] },
        { range: "Û²Û° ØªØ§ Û²Û· Ø®Ø±Ø¯Ø§Ø¯ Û±Û´Û°Ûµ", rotIndex: 5, days: [{ d: "Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡ Û²Û° Ø®Ø±Ø¯Ø§Ø¯" }, { d: "Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡ Û²Û· Ø®Ø±Ø¯Ø§Ø¯" }] }
    ];

    function renderSchedule() {
        const selectedGroup = document.getElementById('groupSelect').value;
        const container = document.getElementById('scheduleContainer');
        container.innerHTML = '';

        scheduleDates.forEach(block => {
            const card = document.createElement('div');
            card.className = 'card';
            
            const currentRotationMap = rotationLogic[block.rotIndex].map;
            let tableHeader = '';
            
            if (selectedGroup === 'all') {
                tableHeader = `
                    <th style="min-width:40px">Ú¯ Û±</th>
                    <th style="min-width:40px">Ú¯ Û²</th>
                    <th style="min-width:40px">Ú¯ Û³</th>
                    <th style="min-width:40px">Ú¯ Û´</th>
                    <th style="min-width:40px">Ú¯ Ûµ</th>
                    <th style="min-width:40px">Ú¯ Û¶</th>
                `;
            } else {
                tableHeader = `<th>Ù…Ø­Ù„ Ú©Ø§Ø±Ø¢Ù…ÙˆØ²ÛŒ Ú¯Ø±ÙˆÙ‡ ${selectedGroup}</th>`;
            }

            let tableRows = '';
            
            block.days.forEach(day => {
                let rowContent = '';

                // Ø´Ø±Ø· Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø±ÙˆØ²Ù‡Ø§ÛŒ ØªØ¹Ø·ÛŒÙ„
                if (day.holiday) {
                    const colSpan = selectedGroup === 'all' ? 6 : 1;
                    rowContent = `<td colspan="${colSpan}">â›” ØªØ¹Ø·ÛŒÙ„</td>`;
                    tableRows += `
                        <tr class="holiday-row">
                            <td style="font-weight:bold;">${day.d}</td>
                            ${rowContent}
                        </tr>
                    `;
                } else {
                    if (selectedGroup === 'all') {
                        for (let g = 1; g <= 6; g++) {
                            const stationKey = currentRotationMap[g];
                            const station = stations[stationKey];
                            if (station) {
                                rowContent += `<td><span class="station-cell ${station.css}">${station.name}</span></td>`;
                            } else {
                                rowContent += `<td><span class="station-cell bg-off">-</span></td>`;
                            }
                        }
                    } else {
                        const stationKey = currentRotationMap[selectedGroup];
                        const myStation = stations[stationKey];
                        if (myStation) {
                            rowContent += `
                                <td>
                                    <span class="station-cell ${myStation.css}" style="font-size:0.9rem; padding:8px;">
                                        ${myStation.name}
                                        <span class="instructor-name">${myStation.instructor}</span>
                                    </span>
                                </td>`;
                        } else {
                            rowContent += `<td><span class="station-cell bg-off">Ø¢Ù</span></td>`;
                        }
                    }

                    tableRows += `
                        <tr>
                            <td style="font-weight:bold;">${day.d}</td>
                            ${rowContent}
                        </tr>
                    `;
                }
            });

            card.innerHTML = `
                <div class="card-header">
                    <span>${block.range}</span>
                </div>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Ø±ÙˆØ²</th>
                                ${tableHeader}
                            </tr>
                        </thead>
                        <tbody>
                            ${tableRows}
                        </tbody>
                    </table>
                </div>
            `;
            container.appendChild(card);
        });
    }

    const hardcodedGroups = [
        { id: 1, label: 'Ú¯Ø±ÙˆÙ‡ Û±', members: ['Ù…Ø­Ø¯Ø«Ù‡ Ø§Ù„Ø³Ø§Ø¯Ø§Øª Ø±ÙˆØ­ Ø§Ù„Ø§Ù…ÛŒÙ†ÛŒ', 'Ø§Ù„Ù‡Ø§Ù… Ø¹Ù„ÛŒØ²Ø§Ø¯Ù‡', 'ØºØ²Ø§Ù„Ù‡ Ø³Ø§Ù„Ø§Ø± Ú©Ø±ÛŒÙ…ÛŒ', 'ÙØ§Ø¦Ø²Ù‡ Ø­ÛŒØ¯Ø±Ø¢Ø¨Ø§Ø¯ÛŒ'] },
        { id: 2, label: 'Ú¯Ø±ÙˆÙ‡ Û²', members: ['Ø²Ù‡Ø±Ø§ Ø­Ø³ÛŒÙ†ÛŒ', 'Ø§Ù…ÛŒØ±Ù…Ø­Ù…Ø¯ Ø¹Ø±Ø¨ Ù¾ÙˆØ±', 'ÙØ§Ø·Ù…Ù‡ Ù†Ø§Ø¯Ø±ÛŒ', 'Ú©Ø³Ø±ÛŒ Ø´Ø¨Ø³ØªØ§Ù†ÛŒ'] },
        { id: 3, label: 'Ú¯Ø±ÙˆÙ‡ Û³', members: ['Ø¨Ù‡Ø§Ø± Ù†ÛŒÚ© Ø·Ø¨Ø¹', 'ÙØ§Ø·Ù…Ù‡ ØºÙ„Ø§Ù…Ø­Ø³ÛŒÙ† Ø²Ø§Ø¯Ù‡', 'Ø§Ù…ÛŒØ±Ù…Ù‡Ø¯ÛŒ Ù…Ø¹ÛŒÙ† Ø§Ù„Ø¯ÛŒÙ†ÛŒ', 'Ù†Ú¯ÛŒÙ† Ø²ÛŒÙ† Ø§Ù„Ø¯ÛŒÙ†ÛŒ'] },
        { id: 4, label: 'Ú¯Ø±ÙˆÙ‡ Û´', members: ['ÙØ§Ø·Ù…Ù‡ Ø³Ù„ÛŒÙ…Ø§Ù†ÛŒ', 'ÙØ§Ø·Ù…Ù‡ Ø¹Ø§Ù‚Ù„ÛŒ', 'Ù…Ø¨ÛŒÙ†Ø§ Ø±ÙÛŒØ¹', 'ÙØ§Ø·Ù…Ù‡ ÛŒØ²Ø¯Ø§Ù† Ù¾Ù†Ø§Ù‡'] },
        { id: 5, label: 'Ú¯Ø±ÙˆÙ‡ Ûµ', members: ['Ø´Ù‡Ø§Ø¨ Ø§Ù„Ø¯ÛŒÙ† ÛŒØ§Ø±Ø§Ø­Ù…Ø¯ÛŒ', 'Ù…Ø­Ù…Ø¯Ø±Ø¶Ø§ Ø¹Ø§Ø·ÙÛŒ', 'Ø¹Ù„ÛŒ Ø°Ø§Ú©Ø±ÛŒ Ù†Ú˜Ø§Ø¯', 'Ø­Ø³ÛŒÙ† Ø§Ø±Ø«ÛŒØ§'] },
        { id: 6, label: 'Ú¯Ø±ÙˆÙ‡ Û¶', members: ['Ù…Ù‡Ø¯ÛŒÙ‡ Ø®ÙˆØ§Ø¬Ù‡ Ø²Ø§Ø¯Ù‡', 'Ù…Ù‡Ø¯ÛŒ Ú¯Ù„ Ù…Ø­Ù…Ø¯ÛŒ', 'Ù†ÛŒÙ…Ø§ Ù…Ø±Ø§Ø¯ÛŒ', ''] },
    ];

    const STORAGE_KEY = 'radiology_internship4_final_v1';
    let studentGroups = JSON.parse(localStorage.getItem(STORAGE_KEY)) || hardcodedGroups;

    // ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ø§Ø³Ø§Ù…ÛŒ (ÙÛŒÚ©Ø³ Ø´Ø¯Ù‡)
    function renderNamesTable() {
        const container = document.getElementById('namesTableContainer');
        let html = `<table><thead><tr><th style="width:30px">Ø±Ø¯ÛŒÙ</th>`;
        
        studentGroups.forEach(g => {
            html += `<th style="min-width:110px">${g.label}</th>`;
        });
        html += `</tr></thead><tbody>`;

        // Ù†Ù…Ø§ÛŒØ´ 4 Ø±Ø¯ÛŒÙ (Ú†ÙˆÙ† Ø§ÛŒÙ† ÙˆØ±ÙˆØ¯ÛŒ Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§Ø´ 4 Ù†ÙØ±Ù‡ Ø§Ø³Øª)
        for (let idx = 0; idx < 4; idx++) {
            // Ú†Ú© Ù…ÛŒÚ©Ù†ÛŒÙ… Ø§Ú¯Ø± Ø±Ø¯ÛŒÙ Ø®Ø§Ù„ÛŒÙ‡ (Ù…Ø«Ù„Ø§Ù‹ Ú¯Ø±ÙˆÙ‡ 6 Ú©Ù‡ 3 Ù†ÙØ±Ù‡)ØŒ Ø³Ù„ÙˆÙ„ Ø®Ø§Ù„ÛŒ Ø¨Ø°Ø§Ø±ÛŒÙ…
            let hasData = studentGroups.some(g => g.members[idx]);
            if (!hasData) continue; 

            html += `<tr><td>${idx + 1}</td>`;
            studentGroups.forEach(g => {
                const val = g.members[idx] || '-';
                html += `<td>
                    <span class="static-name">${val}</span>
                </td>`;
            });
            html += `</tr>`;
        }
        
        html += `</tbody></table>`;
        container.innerHTML = html;
    }

    renderSchedule();
    renderNamesTable();

</script>

</body>
</html>
